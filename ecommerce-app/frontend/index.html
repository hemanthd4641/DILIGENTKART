<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deligentkart - E-Commerce</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="module">
        import React from 'https://esm.sh/react@18.2.0';
        import ReactDOM from 'https://esm.sh/react-dom@18.2.0/client';
        import { BrowserRouter as Router, Routes, Route, Link } from 'https://esm.sh/react-router-dom@6.8.0';
        
        const { useState, useEffect, createContext, useContext, useReducer } = React;
        
        // Cart Context
        const CartContext = createContext();
        
        const cartReducer = (state, action) => {
          switch (action.type) {
            case 'ADD_TO_CART':
              const existingItem = state.cartItems.find(item => item.id === action.payload.id);
              if (existingItem) {
                return {
                  ...state,
                  cartItems: state.cartItems.map(item =>
                    item.id === existingItem.id 
                      ? { ...item, qty: item.qty + 1 } 
                      : item
                  ),
                };
              } else {
                return {
                  ...state,
                  cartItems: [...state.cartItems, { ...action.payload, qty: 1 }],
                };
              }
            case 'REMOVE_FROM_CART':
              return {
                ...state,
                cartItems: state.cartItems.filter(item => item.id !== action.payload),
              };
            case 'CLEAR_CART':
              return {
                ...state,
                cartItems: [],
              };
            default:
              return state;
          }
        };
        
        const CartProvider = ({ children }) => {
          const [state, dispatch] = useReducer(cartReducer, { cartItems: [] });
          
          const addToCart = (product) => {
            dispatch({ type: 'ADD_TO_CART', payload: product });
          };
          
          const removeFromCart = (productId) => {
            dispatch({ type: 'REMOVE_FROM_CART', payload: productId });
          };
          
          const clearCart = () => {
            dispatch({ type: 'CLEAR_CART' });
          };
          
          return (
            React.createElement(CartContext.Provider, {
              value: {
                cartItems: state.cartItems,
                addToCart,
                removeFromCart,
                clearCart,
              }
            }, children)
          );
        };
        
        const useCart = () => {
          const context = useContext(CartContext);
          if (!context) {
            throw new Error('useCart must be used within a CartProvider');
          }
          return context;
        };
        
        // Components
        const Navbar = () => {
          const location = window.location;
          const { cartItems } = useCart();
          const cartCount = cartItems.reduce((total, item) => total + item.qty, 0);
          
          return React.createElement('nav', { className: 'bg-white shadow-md' },
            React.createElement('div', { className: 'container mx-auto px-4' },
              React.createElement('div', { className: 'flex justify-between items-center h-16' },
                React.createElement(Link, { to: '/', className: 'flex items-center space-x-2' },
                  React.createElement('span', { className: 'text-2xl font-bold text-indigo-600' }, 'Deligentkart')
                ),
                React.createElement('div', { className: 'flex items-center space-x-6' },
                  React.createElement(Link, { 
                    to: '/', 
                    className: `hover:text-indigo-600 transition-colors ${
                      location.pathname === '/' ? 'text-indigo-600 font-medium' : 'text-gray-700'
                    }`
                  }, 'Home'),
                  React.createElement(Link, { 
                    to: '/cart', 
                    className: 'flex items-center text-gray-700 hover:text-indigo-600 transition-colors'
                  },
                    React.createElement('svg', { xmlns: 'http://www.w3.org/2000/svg', className: 'h-6 w-6', fill: 'none', viewBox: '0 0 24 24', stroke: 'currentColor' },
                      React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z' })
                    ),
                    cartCount > 0 && React.createElement('span', { className: 'ml-1 bg-indigo-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center' }, cartCount)
                  )
                )
              )
            )
          );
        };
        
        const ProductCard = ({ product }) => {
          return React.createElement('div', { className: 'bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300' },
            React.createElement(Link, { to: `/product/${product.id}` },
              React.createElement('img', { 
                src: product.imageUrl, 
                alt: product.name, 
                className: 'w-full h-48 object-cover'
              }),
              React.createElement('div', { className: 'p-4' },
                React.createElement('h3', { className: 'text-lg font-semibold text-gray-800 mb-2' }, product.name),
                React.createElement('p', { className: 'text-gray-600 text-sm mb-3 line-clamp-2' }, product.description),
                React.createElement('div', { className: 'flex justify-between items-center' },
                  React.createElement('span', { className: 'text-lg font-bold text-indigo-600' }, `$${product.price.toFixed(2)}`),
                  React.createElement('div', { className: 'flex items-center' },
                    React.createElement('svg', { xmlns: 'http://www.w3.org/2000/svg', className: 'h-5 w-5 text-yellow-400', viewBox: '0 0 20 20', fill: 'currentColor' },
                      React.createElement('path', { d: 'M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z' })
                    ),
                    React.createElement('span', { className: 'ml-1 text-gray-600' }, product.rating)
                  )
                )
              )
            )
          );
        };
        
        const Home = () => {
          const [products, setProducts] = useState([]);
          const [loading, setLoading] = useState(true);
          const [error, setError] = useState(null);
          
          useEffect(() => {
            // Simulate API call
            setTimeout(() => {
              const sampleProducts = [
                {
                  id: '1',
                  name: 'Wireless Bluetooth Headphones',
                  description: 'High-quality wireless headphones with noise cancellation',
                  price: 99.99,
                  category: 'Electronics',
                  brand: 'SoundMax',
                  countInStock: 15,
                  rating: 4.5,
                  numReviews: 12,
                  imageUrl: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8aGVhZHBob25lc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60',
                },
                {
                  id: '2',
                  name: 'Smart Watch',
                  description: 'Feature-rich smartwatch with health monitoring',
                  price: 199.99,
                  category: 'Electronics',
                  brand: 'TechWear',
                  countInStock: 8,
                  rating: 4.2,
                  numReviews: 8,
                  imageUrl: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cHJvZHVjdHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60',
                },
                {
                  id: '3',
                  name: 'Cotton T-Shirt',
                  description: 'Comfortable and breathable cotton t-shirt',
                  price: 19.99,
                  category: 'Clothing',
                  brand: 'ComfyWear',
                  countInStock: 50,
                  rating: 4.0,
                  numReviews: 25,
                  imageUrl: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8cHJvZHVjdHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60',
                },
                {
                  id: '4',
                  name: 'Running Shoes',
                  description: 'Lightweight running shoes with extra cushioning',
                  price: 89.99,
                  category: 'Footwear',
                  brand: 'RunFast',
                  countInStock: 20,
                  rating: 4.7,
                  numReviews: 18,
                  imageUrl: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHByb2R1Y3R8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60',
                }
              ];
              setProducts(sampleProducts);
              setLoading(false);
            }, 1000);
          }, []);
          
          if (loading) {
            return React.createElement('div', { className: 'flex justify-center items-center h-64' },
              React.createElement('div', { className: 'animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600' })
            );
          }
          
          if (error) {
            return React.createElement('div', { className: 'text-center py-12' },
              React.createElement('h2', { className: 'text-2xl font-bold text-red-600' }, error),
              React.createElement('button', { 
                onClick: () => window.location.reload(), 
                className: 'mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors'
              }, 'Retry')
            );
          }
          
          return React.createElement('div', null,
            React.createElement('div', { className: 'mb-8 text-center' },
              React.createElement('h1', { className: 'text-4xl font-bold text-gray-800 mb-4' }, 'Welcome to Deligentkart'),
              React.createElement('p', { className: 'text-gray-600 max-w-2xl mx-auto' },
                'Discover amazing products at great prices. Shop with confidence and enjoy fast delivery.'
              )
            ),
            React.createElement('div', { className: 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6' },
              products.map((product) => React.createElement(ProductCard, { key: product.id, product: product }))
            )
          );
        };
        
        const App = () => {
          return React.createElement(Router, null,
            React.createElement(CartProvider, null,
              React.createElement('div', { className: 'min-h-screen bg-gray-50' },
                React.createElement(Navbar, null),
                React.createElement('main', { className: 'container mx-auto px-4 py-8' },
                  React.createElement(Routes, null,
                    React.createElement(Route, { path: '/', element: React.createElement(Home, null) }),
                    React.createElement(Route, { path: '*', element: React.createElement('div', { className: 'text-center py-12' },
                      React.createElement('h2', { className: 'text-2xl font-bold text-gray-800' }, 'Page Not Found'),
                      React.createElement(Link, { to: '/', className: 'mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors inline-block' }, 'Go Back Home')
                    ) })
                  )
                )
              )
            )
          );
        };
        
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App, null));
    </script>
</body>
</html>